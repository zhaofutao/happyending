# 一、HTTP基本概念
    HTTP四超文本传输协议，也就是HyperText Transfer Protocol。
    HTTP包括三部分内容：
  - 超文本  
        超文本是超越了普通文本的文本，它是文字、图片、视频等的混合体，最关键有超链接，能从一个超文本跳转到另一个超文本。
  - 传输  
        HTTP协议是一个双向协议。
  - 协议  
        HTTP是一个用在计算机世界里的协议，它使用计算机能够理解的语言确立了一种计算机之间交流通信的规范，以及相关的各种控制和错误处理方式。  

        HTTP是一个在计算机世界里专门在两点之间传输文字、图片、音频、视频等超文本数据的约定和规范。

# 二、HTTP常见的状态码
  - 1xx  
    1xx类状态码属于提示信息，是协议处理中的一种中间状态，实际用到的比较少；
  - 2xx  
    2xx类状态码表示服务器成功处理了客户端的请求，也是我们最愿意看到的状态；  
    200：OK，是最常见的成功状态码，表示一切正常。如果是非HEAD请求，服务器返回的响应头都会有body数据。  
    204：No Content，也是常见的成功状态码，与200基本相同，但响应头没有body数据。  
    206：Partial Content，是应用于HTTP分块下载或断点续传，表示响应返回的body数据并不是资源的全部，而是其中的一部分，也是服务器处理成功的状态。
  - 3xx  
    3xx类状态码表示客户端请求的资源发生了变动，需要客户端用新的URL重新发送请求获取资源，也就是重定向。  
    301：Moved Permanently，表示永久重定向，说明请求的资源已经不存在了，需改用新的URL再次访问；  
    302：Found，表示临时重定向，说明请求的资源还在，但临时需要用另一个URL来访问；  
    301和302都会在响应头里使用字段location，指明后续要跳转的URL，浏览器会自动重定向新的URL。  
    304：Not Modified，不具有调整的含义，表示资源未修改，重定向已存在的缓冲文件，也称缓存重定向，用于缓存控制；
  - 4xx  
    4xx类状态码表示客户端发送的保温有误，服务器无法处理，也就是错误码的含义；  
    400：Bad Request，表示客户端请求的报文有错误，但只是个笼统的错误；  
    403：Forbidden，表示服务器禁止访问资源，并不是客户端的请求出错；  
    404：Not Found，表示请求的资源在服务器上不存在或未找到，所以无法提供给客户端；  
  - 5xx  
    5xx类状态码表示客户端请求报文正确，但是服务器处理时内部发生了错误，属于服务器端的错误码。  
    500：Internal Server Error，是个笼统通用的错误码，服务器发生了什么错误，我们并不知道；  
    501：Not Implemented，表示客户端请求的功能还不支持；  
    502：Bad Gateway，通常是服务器作为网关或者代理时返回的错误码，表示服务器自身工作正常，访问后端服务器发生了错误；  
    503：Service Unavailable，表示服务器当前繁忙，暂时无法响应服务器；

# 三、HTTP常用字段

# 四、HTTP与HTTPS
    HTTP与HTTPS的区别：
  - HTTP是超文本传输协议，信息是明文传输；HTTPS在TCP和HTTP网络层之间加入了SSL/TLS安全协议，使得报文能够加密传输；
  - HTTP连接建议相对简单，TCP三次握手之后便可以进行HTTP的报文传输；HTTPS在TCP三次握手后，还需进行SSL/TLS的握手过程，才可进入加密报文传输。
  - HTTP的端口号是80，HTTPS的端口号是443；
  - HTTPS协议需要向CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的；  
#
        HTTPS的机制：  
  - 混合加密  
        HTTPS采用的是对称加密和非对称加密结合的混合加密方式：  
        在通信建立前采用非对称加密的方式交换会话密钥，后续就不再使用非对称加密；
        在通信过程中全部采用对称加密的会话密钥的方式加密明文数据；
  - 摘要算法  
        摘要算法用来实现完整性，能够为数据生成独一无二的指纹，用于校验数据的完整性，解决了篡改的风险。  
        客户端在发送明文之前会通过摘要算法算出明文的指纹，发送的时候把指纹+明文一同加密成密文后，发送给服务器；服务器解密后，用相同的摘要算法算出发送过来的明文，通过比较客户端携带的指纹和当前算出的指纹作比较，若指纹相同，说明数据是完整的。
  - 数字证书  
        客户端现象服务器端索要公钥，然后用公钥加密信息，服务器收到密文后，用自己的私密解密。
        为了保证公钥不被篡改，需要借助第三方权威机构CA（数字证书认证机构），将服务器公钥放在数字证书中，只要证书是可信的，公钥就是可信的。

        SSL/TLS协议基本流程：
  - 客户端向服务器所要并验证服务器的公钥；
  - 双方协商生成"会话密钥"；
  - 双方采用会话密钥进行加密通信；

# 五、HTTP/1.1、HTTP/2、HTTP/3演变
## 1. HTTP/1.1相比HTTP/1.0的改进
  - 使用TCP长连接的方式改善了HTTP/1.0短连接造成的性能开销；
  - 支持管道（Pipeline）网络传输，只要第一个请求发出去了，不比等其回来，就可以发第二个请求出去，可以减少整体的相应时间；
## 2. HTTP/2相比HTTP/1.1的改进
  - HTTP/2协议是基于HTTPS的，安全性有保障；
  - 头部压缩，HTTP/2会压缩投，如果同时发出多个请求，他们的头是一样的或者类似的，协议会帮你消除重复的部分，这就是所谓的HPACK算法。
  - 二进制格式，HTTP/2不再像HTTP/1.1里的纯文本形式的报文，而是全面采用了二进制格式，头信息和数据体都是二进制，并且统称为帧（frame），头信息帧和数据帧。
  - HTTP/2的数据包不是按顺序发送的，同一个连接里面连续的数据包，可能属于不同的回应。每个请求或回应的所有数据包，成为一个数据流（Stream），每个数据流都标记着一个独一无二的编号（客户端发出为奇数，服务器发出为偶数）。客户端还可以指定数据流的优先级，优先级高的请求，服务器就先响应该请求。
  - HTTP/2是可以在一个连接中并发多个请求或回应，而不用按照顺序一一对应。移出了HTTP/1.1中的串行请求，不需要排队等待，也就不会再出现队头阻塞的问题，降低了延迟，大幅度提高了连接的利用率。
  - HTTP/2还在一定程度上改善了传统的请求-应答共走模式，服务不再是被动的响应，也可以主动向客户端发送消息。
## 3. HTTP/3相比HTTP/2的改进
  - HTTP/3把HTTP下层的TCP协议改成了UDP，基于UDP的QUIC协议实现类似TCP的可靠性传输。
  - TLS3升级成了最新的1.3版本；
  - 头部压缩算法升级成了QPack；
  - HTTPS要建立一个连接，要花费6次交互，先是建立三次握手，然后是TLS/1.3的三次握手。QUIC直接合并成了3次，减少了交互次数。